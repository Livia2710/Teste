{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DEV_2ano_2024\\\\Documents\\\\GitHub\\\\Teste\\\\src\\\\Components\\\\music-t\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport Nav from \"./components/Nav\";\nimport Library from \"./components/Library\";\nimport Player from \"./components/Player\";\nimport Song from \"./components/Song\";\nimport \"./styles/app.scss\";\nimport data from \"./data\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const audioRef = useRef(null);\n  const [songs, setSongs] = useState(data());\n  const [currentSong, setCurrentSong] = useState(songs[0]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [songInfo, setSongInfo] = useState({\n    currentTime: 0,\n    duration: 0,\n    animationPercentage: 0\n  });\n  const [libraryStatus, setLibraryStatus] = useState(false);\n  const timeUpdateHandler = e => {\n    const currentTime = e.target.currentTime;\n    const duration = e.target.duration;\n\n    // Calculate Percentage\n    const roundedCurrent = Math.round(currentTime);\n    const roundedDuration = Math.round(duration);\n    const animation = Math.round(roundedCurrent / roundedDuration * 100);\n    setSongInfo({\n      ...songInfo,\n      currentTime,\n      duration,\n      animationPercentage: animation\n    });\n  };\n  const activeLibraryHandler = nextPrev => {\n    const newSong = songs.map(song => {\n      if (song.id === nextPrev.id) {\n        return {\n          ...song,\n          active: true\n        };\n      } else {\n        return {\n          ...song,\n          active: false\n        };\n      }\n    });\n    setSongs(newSong);\n  };\n  const songEndHandler = async () => {\n    const currentIndex = songs.findIndex(song => song.id === currentSong.id);\n    await setCurrentSong(songs[(currentIndex + 1) % songs.length]);\n    activeLibraryHandler(songs[(currentIndex + 1) % songs.length]);\n    if (isPlaying) audioRef.current.play();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `App ${libraryStatus ? \"library-active\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(Nav, {\n      libraryStatus: libraryStatus,\n      setLibraryStatus: setLibraryStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Song, {\n      currentSong: currentSong\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Player, {\n      currentSong: currentSong,\n      isPlaying: isPlaying,\n      setIsPlaying: setIsPlaying,\n      songInfo: songInfo,\n      setSongInfo: setSongInfo,\n      audioRef: audioRef,\n      songs: songs,\n      setCurrentSong: setCurrentSong,\n      activeLibraryHandler: activeLibraryHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Library, {\n      songs: songs,\n      setSongs: setSongs,\n      setCurrentSong: setCurrentSong,\n      audioRef: audioRef,\n      isPlaying: isPlaying,\n      libraryStatus: libraryStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      onTimeUpdate: timeUpdateHandler,\n      onLoadedMetadata: timeUpdateHandler,\n      onEnded: songEndHandler,\n      ref: audioRef,\n      src: currentSong.audio\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"3q89sXDRjjoDDQSxdLF+SsG6KZI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","Nav","Library","Player","Song","data","jsxDEV","_jsxDEV","App","_s","audioRef","songs","setSongs","currentSong","setCurrentSong","isPlaying","setIsPlaying","songInfo","setSongInfo","currentTime","duration","animationPercentage","libraryStatus","setLibraryStatus","timeUpdateHandler","e","target","roundedCurrent","Math","round","roundedDuration","animation","activeLibraryHandler","nextPrev","newSong","map","song","id","active","songEndHandler","currentIndex","findIndex","length","current","play","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onTimeUpdate","onLoadedMetadata","onEnded","ref","src","audio","_c","$RefreshReg$"],"sources":["C:/Users/DEV_2ano_2024/Documents/GitHub/Teste/src/Components/music-t/src/App.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport Nav from \"./components/Nav\";\nimport Library from \"./components/Library\";\nimport Player from \"./components/Player\";\nimport Song from \"./components/Song\";\nimport \"./styles/app.scss\";\nimport data from \"./data\";\n\nfunction App() {\n  const audioRef = useRef(null);\n  const [songs, setSongs] = useState(data());\n  const [currentSong, setCurrentSong] = useState(songs[0]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [songInfo, setSongInfo] = useState({\n    currentTime: 0,\n    duration: 0,\n    animationPercentage: 0,\n  });\n  const [libraryStatus, setLibraryStatus] = useState(false);\n\n  const timeUpdateHandler = (e) => {\n    const currentTime = e.target.currentTime;\n    const duration = e.target.duration;\n\n    // Calculate Percentage\n    const roundedCurrent = Math.round(currentTime);\n    const roundedDuration = Math.round(duration);\n    const animation = Math.round((roundedCurrent / roundedDuration) * 100);\n\n    setSongInfo({\n      ...songInfo,\n      currentTime,\n      duration,\n      animationPercentage: animation,\n    });\n  };\n\n  const activeLibraryHandler = (nextPrev) => {\n    const newSong = songs.map((song) => {\n      if (song.id === nextPrev.id) {\n        return {\n          ...song,\n          active: true,\n        };\n      } else {\n        return {\n          ...song,\n          active: false,\n        };\n      }\n    });\n    setSongs(newSong);\n  };\n\n  const songEndHandler = async () => {\n    const currentIndex = songs.findIndex((song) => song.id === currentSong.id);\n    await setCurrentSong(songs[(currentIndex + 1) % songs.length]);\n    activeLibraryHandler(songs[(currentIndex + 1) % songs.length]);\n    if (isPlaying) audioRef.current.play();\n  };\n\n  return (\n    <div className={`App ${libraryStatus ? \"library-active\" : \"\"}`}>\n      <Nav libraryStatus={libraryStatus} setLibraryStatus={setLibraryStatus} />\n      <Song currentSong={currentSong} />\n      <Player\n        currentSong={currentSong}\n        isPlaying={isPlaying}\n        setIsPlaying={setIsPlaying}\n        songInfo={songInfo}\n        setSongInfo={setSongInfo}\n        audioRef={audioRef}\n        songs={songs}\n        setCurrentSong={setCurrentSong}\n        activeLibraryHandler={activeLibraryHandler}\n      />\n      <Library\n        songs={songs}\n        setSongs={setSongs}\n        setCurrentSong={setCurrentSong}\n        audioRef={audioRef}\n        isPlaying={isPlaying}\n        libraryStatus={libraryStatus}\n      />\n      <audio\n        onTimeUpdate={timeUpdateHandler}\n        onLoadedMetadata={timeUpdateHandler}\n        onEnded={songEndHandler}\n        ref={audioRef}\n        src={currentSong.audio}\n      ></audio>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}